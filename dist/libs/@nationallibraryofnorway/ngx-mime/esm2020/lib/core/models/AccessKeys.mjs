export class AccessKeys {
    constructor(event) {
        this.altKey = false;
        this.shiftKey = false;
        this.ctrlkey = false;
        this.metaKey = false;
        this.event = event;
        this.keyCode = event.keyCode;
        this.altKey = event.altKey;
        this.shiftKey = event.shiftKey;
        this.ctrlkey = event.ctrlKey;
        this.metaKey = event.metaKey;
    }
    isArrowRightKeys() {
        return !this.isMultiKeys() && this.arrayContainsKeys(AccessKeys.ARROWRIGHT);
    }
    isArrowLeftKeys() {
        return !this.isMultiKeys() && this.arrayContainsKeys(AccessKeys.ARROWLEFT);
    }
    isPageUpKeys() {
        return !this.isMultiKeys() && this.arrayContainsKeys(AccessKeys.PAGEUP);
    }
    isPageDownKeys() {
        return !this.isMultiKeys() && this.arrayContainsKeys(AccessKeys.PAGEDOWN);
    }
    isFirstCanvasGroupKeys() {
        return (!this.isMultiKeys() &&
            this.arrayContainsKeys(AccessKeys.firstCanvasGroupCodes));
    }
    isLastCanvasGroupKeys() {
        return (!this.isMultiKeys() &&
            this.arrayContainsKeys(AccessKeys.lastCanvasGroupCodes));
    }
    isSliderKeys() {
        return (this.isArrowLeftKeys() ||
            this.isArrowRightKeys() ||
            this.isPageDownKeys() ||
            this.isPageUpKeys() ||
            this.isFirstCanvasGroupKeys() ||
            this.isLastCanvasGroupKeys());
    }
    isZoomInKeys() {
        return (!this.isMultiKeys() && this.arrayContainsKeys(AccessKeys.zoomInCodes));
    }
    isZoomOutKeys() {
        return (!this.isMultiKeys() && this.arrayContainsKeys(AccessKeys.zoomOutCodes));
    }
    isZoomHomeKeys() {
        return (!this.isMultiKeys() && this.arrayContainsKeys(AccessKeys.zoomHomeCodes));
    }
    isNextHitKeys() {
        return !this.isMultiKeys() && this.arrayContainsKeys(AccessKeys.nextHit);
    }
    isPreviousHitKeys() {
        return (!this.isMultiKeys() && this.arrayContainsKeys(AccessKeys.previousHit));
    }
    isSearchDialogKeys() {
        return (!this.isMultiKeys() &&
            this.arrayContainsKeys(AccessKeys.toggleSearchDialogCodes));
    }
    isInformationDialogKeys() {
        return (!this.isMultiKeys() &&
            this.arrayContainsKeys(AccessKeys.toggleInformationDialogCodes));
    }
    isFullscreenKeys() {
        return (!this.isMultiKeys() &&
            this.arrayContainsKeys(AccessKeys.toggleFullscreenCodes));
    }
    isResetSearchKeys() {
        return (!this.isMetaPressed() &&
            this.isShiftPressed() &&
            this.arrayContainsKeys(AccessKeys.resetSearch));
    }
    isRotateKeys() {
        return (!this.isMultiKeys() && this.arrayContainsKeys(AccessKeys.rotateCwCodes));
    }
    isRecognizedTextContentKeys() {
        return (!this.isMultiKeys() &&
            this.arrayContainsKeys(AccessKeys.recognizedTextContentCodes));
    }
    execute(fn) {
        this.event.preventDefault();
        fn();
    }
    isMultiKeys() {
        return this.altKey || this.shiftKey || this.ctrlkey;
    }
    arrayContainsKeys(keys) {
        return keys.indexOf(this.keyCode) > -1;
    }
    isShiftPressed() {
        return this.shiftKey;
    }
    isMetaPressed() {
        return this.metaKey;
    }
}
AccessKeys.PAGEDOWN = [34];
AccessKeys.PAGEUP = [33];
AccessKeys.ARROWRIGHT = [39];
AccessKeys.ARROWLEFT = [37];
AccessKeys.firstCanvasGroupCodes = [36]; // Home
AccessKeys.lastCanvasGroupCodes = [35]; // End
AccessKeys.zoomInCodes = [107, 187, 171]; // +, numpad and standard position, Firefox uses 171 for standard position
AccessKeys.zoomOutCodes = [109, 189, 173]; // -, numpad and standard position, Firefox uses 173 for standard position
AccessKeys.zoomHomeCodes = [96, 48]; // 0
AccessKeys.nextHit = [78]; // n
AccessKeys.previousHit = [80]; // p
AccessKeys.toggleSearchDialogCodes = [83]; // s
AccessKeys.toggleInformationDialogCodes = [67]; // C
AccessKeys.toggleFullscreenCodes = [70]; // f
AccessKeys.resetSearch = [83]; // s
AccessKeys.rotateCwCodes = [82]; // r
AccessKeys.recognizedTextContentCodes = [84]; // t
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQWNjZXNzS2V5cy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvbmd4LW1pbWUvc3JjL2xpYi9jb3JlL21vZGVscy9BY2Nlc3NLZXlzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sT0FBTyxVQUFVO0lBeUJyQixZQUFZLEtBQW9CO1FBTnhCLFdBQU0sR0FBRyxLQUFLLENBQUM7UUFDZixhQUFRLEdBQUcsS0FBSyxDQUFDO1FBQ2pCLFlBQU8sR0FBRyxLQUFLLENBQUM7UUFDaEIsWUFBTyxHQUFHLEtBQUssQ0FBQztRQUl0QixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUM7UUFDN0IsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDO1FBQzNCLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQztRQUMvQixJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUM7UUFDN0IsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDO0lBQy9CLENBQUM7SUFFTSxnQkFBZ0I7UUFDckIsT0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxJQUFJLENBQUMsaUJBQWlCLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQzlFLENBQUM7SUFFTSxlQUFlO1FBQ3BCLE9BQU8sQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksSUFBSSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUM3RSxDQUFDO0lBRU0sWUFBWTtRQUNqQixPQUFPLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7SUFD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QUFhLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJO0FBQzlCLGtCQUFPLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUk7QUFDcEIsc0JBQVcsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSTtBQUN4QixrQ0FBdUIsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSTtBQUNwQyx1Q0FBNEIsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSTtBQUN6QyxnQ0FBcUIsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSTtBQUNsQyxzQkFBVyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJO0FBQ3hCLHdCQUFhLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUk7QUFDMUIscUNBQTBCLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUkiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgQWNjZXNzS2V5cyB7XG4gIHB1YmxpYyBzdGF0aWMgUEFHRURPV04gPSBbMzRdO1xuICBwdWJsaWMgc3RhdGljIFBBR0VVUCA9IFszM107XG4gIHB1YmxpYyBzdGF0aWMgQVJST1dSSUdIVCA9IFszOV07XG4gIHB1YmxpYyBzdGF0aWMgQVJST1dMRUZUID0gWzM3XTtcbiAgcHVibGljIHN0YXRpYyBmaXJzdENhbnZhc0dyb3VwQ29kZXMgPSBbMzZdOyAvLyBIb21lXG4gIHB1YmxpYyBzdGF0aWMgbGFzdENhbnZhc0dyb3VwQ29kZXMgPSBbMzVdOyAvLyBFbmRcbiAgcHVibGljIHN0YXRpYyB6b29tSW5Db2RlcyA9IFsxMDcsIDE4NywgMTcxXTsgLy8gKywgbnVtcGFkIGFuZCBzdGFuZGFyZCBwb3NpdGlvbiwgRmlyZWZveCB1c2VzIDE3MSBmb3Igc3RhbmRhcmQgcG9zaXRpb25cbiAgcHVibGljIHN0YXRpYyB6b29tT3V0Q29kZXMgPSBbMTA5LCAxODksIDE3M107IC8vIC0sIG51bXBhZCBhbmQgc3RhbmRhcmQgcG9zaXRpb24sIEZpcmVmb3ggdXNlcyAxNzMgZm9yIHN0YW5kYXJkIHBvc2l0aW9uXG4gIHB1YmxpYyBzdGF0aWMgem9vbUhvbWVDb2RlcyA9IFs5NiwgNDhdOyAvLyAwXG4gIHB1YmxpYyBzdGF0aWMgbmV4dEhpdCA9IFs3OF07IC8vIG5cbiAgcHVibGljIHN0YXRpYyBwcmV2aW91c0hpdCA9IFs4MF07IC8vIHBcbiAgcHVibGljIHN0YXRpYyB0b2dnbGVTZWFyY2hEaWFsb2dDb2RlcyA9IFs4M107IC8vIHNcbiAgcHVibGljIHN0YXRpYyB0b2dnbGVJbmZvcm1hdGlvbkRpYWxvZ0NvZGVzID0gWzY3XTsgLy8gQ1xuICBwdWJsaWMgc3RhdGljIHRvZ2dsZUZ1bGxzY3JlZW5Db2RlcyA9IFs3MF07IC8vIGZcbiAgcHVibGljIHN0YXRpYyByZXNldFNlYXJjaCA9IFs4M107IC8vIHNcbiAgcHVibGljIHN0YXRpYyByb3RhdGVDd0NvZGVzID0gWzgyXTsgLy8gclxuICBwdWJsaWMgc3RhdGljIHJlY29nbml6ZWRUZXh0Q29udGVudENvZGVzID0gWzg0XTsgLy8gdFxuICBwcml2YXRlIGtleUNvZGU6IG51bWJlcjtcbiAgcHJpdmF0ZSBhbHRLZXkgPSBmYWxzZTtcbiAgcHJpdmF0ZSBzaGlmdEtleSA9IGZhbHNlO1xuICBwcml2YXRlIGN0cmxrZXkgPSBmYWxzZTtcbiAgcHJpdmF0ZSBtZXRhS2V5ID0gZmFsc2U7XG4gIHByaXZhdGUgZXZlbnQ6IEtleWJvYXJkRXZlbnQ7XG5cbiAgY29uc3RydWN0b3IoZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICB0aGlzLmV2ZW50ID0gZXZlbnQ7XG4gICAgdGhpcy5rZXlDb2RlID0gZXZlbnQua2V5Q29kZTtcbiAgICB0aGlzLmFsdEtleSA9IGV2ZW50LmFsdEtleTtcbiAgICB0aGlzLnNoaWZ0S2V5ID0gZXZlbnQuc2hpZnRLZXk7XG4gICAgdGhpcy5jdHJsa2V5ID0gZXZlbnQuY3RybEtleTtcbiAgICB0aGlzLm1ldGFLZXkgPSBldmVudC5tZXRhS2V5O1xuICB9XG5cbiAgcHVibGljIGlzQXJyb3dSaWdodEtleXMoKSB7XG4gICAgcmV0dXJuICF0aGlzLmlzTXVsdGlLZXlzKCkgJiYgdGhpcy5hcnJheUNvbnRhaW5zS2V5cyhBY2Nlc3NLZXlzLkFSUk9XUklHSFQpO1xuICB9XG5cbiAgcHVibGljIGlzQXJyb3dMZWZ0S2V5cygpIHtcbiAgICByZXR1cm4gIXRoaXMuaXNNdWx0aUtleXMoKSAmJiB0aGlzLmFycmF5Q29udGFpbnNLZXlzKEFjY2Vzc0tleXMuQVJST1dMRUZUKTtcbiAgfVxuXG4gIHB1YmxpYyBpc1BhZ2VVcEtleXMoKSB7XG4gICAgcmV0dXJuICF0aGlzLmlzTXVsdGlLZXlzKCkgJiYgdGhpcy5hcnJheUNvbnRhaW5zS2V5cyhBY2Nlc3NLZXlzLlBBR0VVUCk7XG4gIH1cblxuICBwdWJsaWMgaXNQYWdlRG93bktleXMoKSB7XG4gICAgcmV0dXJuICF0aGlzLmlzTXVsdGlLZXlzKCkgJiYgdGhpcy5hcnJheUNvbnRhaW5zS2V5cyhBY2Nlc3NLZXlzLlBBR0VET1dOKTtcbiAgfVxuXG4gIHB1YmxpYyBpc0ZpcnN0Q2FudmFzR3JvdXBLZXlzKCkge1xuICAgIHJldHVybiAoXG4gICAgICAhdGhpcy5pc011bHRpS2V5cygpICYmXG4gICAgICB0aGlzLmFycmF5Q29udGFpbnNLZXlzKEFjY2Vzc0tleXMuZmlyc3RDYW52YXNHcm91cENvZGVzKVxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgaXNMYXN0Q2FudmFzR3JvdXBLZXlzKCkge1xuICAgIHJldHVybiAoXG4gICAgICAhdGhpcy5pc011bHRpS2V5cygpICYmXG4gICAgICB0aGlzLmFycmF5Q29udGFpbnNLZXlzKEFjY2Vzc0tleXMubGFzdENhbnZhc0dyb3VwQ29kZXMpXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBpc1NsaWRlcktleXMoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuaXNBcnJvd0xlZnRLZXlzKCkgfHxcbiAgICAgIHRoaXMuaXNBcnJvd1JpZ2h0S2V5cygpIHx8XG4gICAgICB0aGlzLmlzUGFnZURvd25LZXlzKCkgfHxcbiAgICAgIHRoaXMuaXNQYWdlVXBLZXlzKCkgfHxcbiAgICAgIHRoaXMuaXNGaXJzdENhbnZhc0dyb3VwS2V5cygpIHx8XG4gICAgICB0aGlzLmlzTGFzdENhbnZhc0dyb3VwS2V5cygpXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBpc1pvb21JbktleXMoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICF0aGlzLmlzTXVsdGlLZXlzKCkgJiYgdGhpcy5hcnJheUNvbnRhaW5zS2V5cyhBY2Nlc3NLZXlzLnpvb21JbkNvZGVzKVxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgaXNab29tT3V0S2V5cygpIHtcbiAgICByZXR1cm4gKFxuICAgICAgIXRoaXMuaXNNdWx0aUtleXMoKSAmJiB0aGlzLmFycmF5Q29udGFpbnNLZXlzKEFjY2Vzc0tleXMuem9vbU91dENvZGVzKVxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgaXNab29tSG9tZUtleXMoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICF0aGlzLmlzTXVsdGlLZXlzKCkgJiYgdGhpcy5hcnJheUNvbnRhaW5zS2V5cyhBY2Nlc3NLZXlzLnpvb21Ib21lQ29kZXMpXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBpc05leHRIaXRLZXlzKCkge1xuICAgIHJldHVybiAhdGhpcy5pc011bHRpS2V5cygpICYmIHRoaXMuYXJyYXlDb250YWluc0tleXMoQWNjZXNzS2V5cy5uZXh0SGl0KTtcbiAgfVxuXG4gIHB1YmxpYyBpc1ByZXZpb3VzSGl0S2V5cygpIHtcbiAgICByZXR1cm4gKFxuICAgICAgIXRoaXMuaXNNdWx0aUtleXMoKSAmJiB0aGlzLmFycmF5Q29udGFpbnNLZXlzKEFjY2Vzc0tleXMucHJldmlvdXNIaXQpXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBpc1NlYXJjaERpYWxvZ0tleXMoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICF0aGlzLmlzTXVsdGlLZXlzKCkgJiZcbiAgICAgIHRoaXMuYXJyYXlDb250YWluc0tleXMoQWNjZXNzS2V5cy50b2dnbGVTZWFyY2hEaWFsb2dDb2RlcylcbiAgICApO1xuICB9XG5cbiAgcHVibGljIGlzSW5mb3JtYXRpb25EaWFsb2dLZXlzKCkge1xuICAgIHJldHVybiAoXG4gICAgICAhdGhpcy5pc011bHRpS2V5cygpICYmXG4gICAgICB0aGlzLmFycmF5Q29udGFpbnNLZXlzKEFjY2Vzc0tleXMudG9nZ2xlSW5mb3JtYXRpb25EaWFsb2dDb2RlcylcbiAgICApO1xuICB9XG5cbiAgcHVibGljIGlzRnVsbHNjcmVlbktleXMoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICF0aGlzLmlzTXVsdGlLZXlzKCkgJiZcbiAgICAgIHRoaXMuYXJyYXlDb250YWluc0tleXMoQWNjZXNzS2V5cy50b2dnbGVGdWxsc2NyZWVuQ29kZXMpXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBpc1Jlc2V0U2VhcmNoS2V5cygpIHtcbiAgICByZXR1cm4gKFxuICAgICAgIXRoaXMuaXNNZXRhUHJlc3NlZCgpICYmXG4gICAgICB0aGlzLmlzU2hpZnRQcmVzc2VkKCkgJiZcbiAgICAgIHRoaXMuYXJyYXlDb250YWluc0tleXMoQWNjZXNzS2V5cy5yZXNldFNlYXJjaClcbiAgICApO1xuICB9XG5cbiAgcHVibGljIGlzUm90YXRlS2V5cygpIHtcbiAgICByZXR1cm4gKFxuICAgICAgIXRoaXMuaXNNdWx0aUtleXMoKSAmJiB0aGlzLmFycmF5Q29udGFpbnNLZXlzKEFjY2Vzc0tleXMucm90YXRlQ3dDb2RlcylcbiAgICApO1xuICB9XG5cbiAgcHVibGljIGlzUmVjb2duaXplZFRleHRDb250ZW50S2V5cygpIHtcbiAgICByZXR1cm4gKFxuICAgICAgIXRoaXMuaXNNdWx0aUtleXMoKSAmJlxuICAgICAgdGhpcy5hcnJheUNvbnRhaW5zS2V5cyhBY2Nlc3NLZXlzLnJlY29nbml6ZWRUZXh0Q29udGVudENvZGVzKVxuICAgICk7XG4gIH1cblxuICBleGVjdXRlKGZuOiBGdW5jdGlvbik6IHZvaWQge1xuICAgIHRoaXMuZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBmbigpO1xuICB9XG5cbiAgcHJpdmF0ZSBpc011bHRpS2V5cygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5hbHRLZXkgfHwgdGhpcy5zaGlmdEtleSB8fCB0aGlzLmN0cmxrZXk7XG4gIH1cblxuICBwcml2YXRlIGFycmF5Q29udGFpbnNLZXlzKGtleXM6IG51bWJlcltdKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGtleXMuaW5kZXhPZih0aGlzLmtleUNvZGUpID4gLTE7XG4gIH1cblxuICBwcml2YXRlIGlzU2hpZnRQcmVzc2VkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnNoaWZ0S2V5O1xuICB9XG5cbiAgcHJpdmF0ZSBpc01ldGFQcmVzc2VkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLm1ldGFLZXk7XG4gIH1cbn1cbiJdfQ==